<view class="baidu-map-page data-v-fafa236a"><view class="search-bar data-v-fafa236a"><view class="search-input-wrapper data-v-fafa236a"><text class="search-icon data-v-fafa236a">🔍</text><input class="search-input data-v-fafa236a" placeholder="搜索地址" data-event-opts="{{[['input',[['__set_model',['','searchKeyword','$event',[]]],['onSearchInput',['$event']]]]]}}" value="{{searchKeyword}}" bindinput="__e"/><block wx:if="{{searchKeyword}}"><text data-event-opts="{{[['tap',[['clearSearch',['$event']]]]]}}" class="clear-btn data-v-fafa236a" bindtap="__e">×</text></block></view><button data-event-opts="{{[['tap',[['getCurrentLocation',['$event']]]]]}}" class="current-location-btn data-v-fafa236a" bindtap="__e"><text class="location-icon data-v-fafa236a">📍</text><text class="location-text data-v-fafa236a">定位</text></button></view><view class="map-container data-v-fafa236a"><web-view class="baidu-map data-v-fafa236a" src="{{mapUrl}}" data-event-opts="{{[['message',[['onMapMessage',['$event']]]]]}}" bindmessage="__e"></web-view><view class="map-center-indicator data-v-fafa236a"><text class="center-icon data-v-fafa236a">📍</text></view></view><view class="address-panel data-v-fafa236a"><view class="panel-header data-v-fafa236a"><text class="panel-title data-v-fafa236a">选择地址</text><text class="panel-subtitle data-v-fafa236a">{{selectedAddress||'点击地图选择位置'}}</text></view><block wx:if="{{selectedLocation}}"><view class="address-details data-v-fafa236a"><view class="detail-item data-v-fafa236a"><text class="detail-label data-v-fafa236a">详细地址：</text><text class="detail-value data-v-fafa236a">{{selectedAddress}}</text></view><view class="detail-item data-v-fafa236a"><text class="detail-label data-v-fafa236a">经纬度：</text><text class="detail-value data-v-fafa236a">{{$root.g0+", "+$root.g1}}</text></view></view></block><view class="panel-actions data-v-fafa236a"><button data-event-opts="{{[['tap',[['cancelSelect',['$event']]]]]}}" class="action-btn cancel-btn data-v-fafa236a" bindtap="__e">取消</button><button class="action-btn confirm-btn data-v-fafa236a" disabled="{{!selectedLocation}}" data-event-opts="{{[['tap',[['confirmSelect',['$event']]]]]}}" bindtap="__e">确认选择</button></view></view><block wx:if="{{$root.g2>0}}"><view class="search-results data-v-fafa236a"><view class="results-header data-v-fafa236a"><text class="results-title data-v-fafa236a">搜索结果</text><text class="results-count data-v-fafa236a">{{"("+$root.g3+")"}}</text></view><view class="results-list data-v-fafa236a"><block wx:for="{{searchResults}}" wx:for-item="result" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['selectSearchResult',['$0'],[[['searchResults','',index]]]]]]]}}" class="result-item data-v-fafa236a" bindtap="__e"><view class="result-info data-v-fafa236a"><text class="result-title data-v-fafa236a">{{result.title}}</text><text class="result-address data-v-fafa236a">{{result.address}}</text></view><text class="result-distance data-v-fafa236a">{{result.distance+"km"}}</text></view></block></view></view></block></view>