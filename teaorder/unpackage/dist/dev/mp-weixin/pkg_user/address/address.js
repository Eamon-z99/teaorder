(global["webpackJsonp"] = global["webpackJsonp"] || []).push([["pkg_user/address/address"],{

/***/ 101:
/*!******************************************************************************!*\
  !*** D:/uniapp_project/food/main.js?{"page":"pkg_user%2Faddress%2Faddress"} ***!
  \******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(wx, createPage) {

var _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ 4);
__webpack_require__(/*! uni-pages */ 26);
var _vue = _interopRequireDefault(__webpack_require__(/*! vue */ 25));
var _address = _interopRequireDefault(__webpack_require__(/*! ./pkg_user/address/address.vue */ 102));
// @ts-ignore
wx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;
createPage(_address.default);
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/wx.js */ 1)["default"], __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 2)["createPage"]))

/***/ }),

/***/ 102:
/*!***********************************************************!*\
  !*** D:/uniapp_project/food/pkg_user/address/address.vue ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _address_vue_vue_type_template_id_202230b6_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./address.vue?vue&type=template&id=202230b6&scoped=true& */ 103);
/* harmony import */ var _address_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./address.vue?vue&type=script&lang=js& */ 105);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _address_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__) if(["default"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _address_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__[key]; }) }(__WEBPACK_IMPORT_KEY__));
/* harmony import */ var _address_vue_vue_type_style_index_0_id_202230b6_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./address.vue?vue&type=style&index=0&id=202230b6&scoped=true&lang=css& */ 107);
/* harmony import */ var _HBuilderX_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js */ 32);

var renderjs





/* normalize component */

var component = Object(_HBuilderX_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__["default"])(
  _address_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__["default"],
  _address_vue_vue_type_template_id_202230b6_scoped_true___WEBPACK_IMPORTED_MODULE_0__["render"],
  _address_vue_vue_type_template_id_202230b6_scoped_true___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"],
  false,
  null,
  "202230b6",
  null,
  false,
  _address_vue_vue_type_template_id_202230b6_scoped_true___WEBPACK_IMPORTED_MODULE_0__["components"],
  renderjs
)

component.options.__file = "pkg_user/address/address.vue"
/* harmony default export */ __webpack_exports__["default"] = (component.exports);

/***/ }),

/***/ 103:
/*!******************************************************************************************************!*\
  !*** D:/uniapp_project/food/pkg_user/address/address.vue?vue&type=template&id=202230b6&scoped=true& ***!
  \******************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _HBuilderX_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_HBuilderX_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_17_0_HBuilderX_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_HBuilderX_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_HBuilderX_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_HBuilderX_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_address_vue_vue_type_template_id_202230b6_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--17-0!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./address.vue?vue&type=template&id=202230b6&scoped=true& */ 104);
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "render", function() { return _HBuilderX_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_HBuilderX_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_17_0_HBuilderX_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_HBuilderX_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_HBuilderX_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_HBuilderX_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_address_vue_vue_type_template_id_202230b6_scoped_true___WEBPACK_IMPORTED_MODULE_0__["render"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return _HBuilderX_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_HBuilderX_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_17_0_HBuilderX_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_HBuilderX_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_HBuilderX_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_HBuilderX_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_address_vue_vue_type_template_id_202230b6_scoped_true___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "recyclableRender", function() { return _HBuilderX_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_HBuilderX_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_17_0_HBuilderX_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_HBuilderX_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_HBuilderX_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_HBuilderX_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_address_vue_vue_type_template_id_202230b6_scoped_true___WEBPACK_IMPORTED_MODULE_0__["recyclableRender"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "components", function() { return _HBuilderX_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_HBuilderX_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_17_0_HBuilderX_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_HBuilderX_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_HBuilderX_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_HBuilderX_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_address_vue_vue_type_template_id_202230b6_scoped_true___WEBPACK_IMPORTED_MODULE_0__["components"]; });



/***/ }),

/***/ 104:
/*!******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--17-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!D:/uniapp_project/food/pkg_user/address/address.vue?vue&type=template&id=202230b6&scoped=true& ***!
  \******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "render", function() { return render; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return staticRenderFns; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "recyclableRender", function() { return recyclableRender; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "components", function() { return components; });
var components
var render = function () {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  var g0 = _vm.addressList.length
  if (!_vm._isMounted) {
    _vm.e0 = function ($event, idx) {
      var _temp = arguments[arguments.length - 1].currentTarget.dataset,
        _temp2 = _temp.eventParams || _temp["event-params"],
        idx = _temp2.idx
      var _temp, _temp2
      _vm.chooseMode && _vm.chooseThis(idx)
    }
    _vm.e1 = function ($event) {
      if ($event.target !== $event.currentTarget) {
        return null
      }
      _vm.showAdd = false
    }
    _vm.e2 = function ($event) {
      _vm.showAdd = false
    }
    _vm.e3 = function ($event, tag) {
      var _temp3 = arguments[arguments.length - 1].currentTarget.dataset,
        _temp4 = _temp3.eventParams || _temp3["event-params"],
        tag = _temp4.tag
      var _temp3, _temp4
      _vm.form.tag = tag
    }
    _vm.e4 = function ($event) {
      _vm.form.isDefault = $event.detail.value
    }
    _vm.e5 = function ($event) {
      _vm.showAdd = false
    }
  }
  _vm.$mp.data = Object.assign(
    {},
    {
      $root: {
        g0: g0,
      },
    }
  )
}
var recyclableRender = false
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ 105:
/*!************************************************************************************!*\
  !*** D:/uniapp_project/food/pkg_user/address/address.vue?vue&type=script&lang=js& ***!
  \************************************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _HBuilderX_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_HBuilderX_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_13_1_HBuilderX_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_HBuilderX_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_HBuilderX_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_address_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--13-1!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./address.vue?vue&type=script&lang=js& */ 106);
/* harmony import */ var _HBuilderX_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_HBuilderX_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_13_1_HBuilderX_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_HBuilderX_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_HBuilderX_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_address_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_HBuilderX_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_HBuilderX_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_13_1_HBuilderX_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_HBuilderX_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_HBuilderX_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_address_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _HBuilderX_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_HBuilderX_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_13_1_HBuilderX_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_HBuilderX_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_HBuilderX_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_address_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__) if(["default"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _HBuilderX_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_HBuilderX_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_13_1_HBuilderX_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_HBuilderX_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_HBuilderX_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_address_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));
 /* harmony default export */ __webpack_exports__["default"] = (_HBuilderX_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_HBuilderX_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_13_1_HBuilderX_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_HBuilderX_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_HBuilderX_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_address_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),

/***/ 106:
/*!*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--13-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!D:/uniapp_project/food/pkg_user/address/address.vue?vue&type=script&lang=js& ***!
  \*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(uni) {

var _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ 4);
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _regenerator = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/regenerator */ 48));
var _defineProperty2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/defineProperty */ 11));
var _slicedToArray2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ 5));
var _asyncToGenerator2 = _interopRequireDefault(__webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ 50));
var _config = __webpack_require__(/*! ../../config.js */ 33);
var _methods;
var _default = {
  data: function data() {
    return {
      userLat: 39.908823,
      userLng: 116.397470,
      allMarkers: [],
      selectedAddress: null,
      addressList: [],
      showAdd: false,
      form: {
        name: '',
        phone: '',
        detail: '',
        tag: '家',
        isDefault: false,
        lat: '',
        lng: '',
        address: ''
      },
      editIdx: -1,
      tags: ['家', '公司', '学校'],
      chooseMode: false,
      userId: null,
      userInfo: null,
      mapScale: 14,
      // 新增缩放级别
      highlightMarkerId: null,
      // 高亮marker
      // 弹窗地图相关
      modalMapLat: 39.908823,
      modalMapLng: 116.397470,
      modalMapScale: 16,
      modalMapMarkers: [],
      modalHighlightMarkerId: 'form',
      addressMarker: [] // 自定义蓝点marker
    };
  },
  onLoad: function onLoad() {
    this.getUserInfo();
    this.getUserLocation();
    this.getAddressList();
    this.testBackendConnection();
  },
  onShow: function onShow() {
    this.checkLoginStatus();
    this.getAddressList();
    // 兼容switchTab跳转参数
    var pages = getCurrentPages();
    var current = pages[pages.length - 1];
    if (current.options && current.options.choose) this.chooseMode = true;
  },
  methods: (_methods = {
    checkLoginStatus: function checkLoginStatus() {
      var userInfo = uni.getStorageSync('userInfo');
      var token = uni.getStorageSync('token');
      // 兼容userId字段
      if (userInfo && !userInfo.id && userInfo.userId) {
        userInfo.id = userInfo.userId;
        uni.setStorageSync('userInfo', userInfo);
      }
      if (userInfo && token) {
        this.userInfo = userInfo;
        this.userId = userInfo.id;
      } else {
        this.userInfo = null;
        this.userId = null;
      }
    },
    // 获取地址列表
    getAddressList: function getAddressList() {
      var _this = this;
      return (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee() {
        var _yield$uni$request, _yield$uni$request2, error, res;
        return _regenerator.default.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                if (_this.userId) {
                  _context.next = 4;
                  break;
                }
                console.log('用户ID为空，跳过获取地址列表');
                _this.addressList = [];
                return _context.abrupt("return");
              case 4:
                _context.prev = 4;
                console.log('开始获取地址列表，用户ID:', _this.userId);
                _context.next = 8;
                return uni.request({
                  url: "http://localhost:3000/api/address/user/".concat(_this.userId),
                  method: 'GET',
                  timeout: 10000
                });
              case 8:
                _yield$uni$request = _context.sent;
                _yield$uni$request2 = (0, _slicedToArray2.default)(_yield$uni$request, 2);
                error = _yield$uni$request2[0];
                res = _yield$uni$request2[1];
                console.log('地址列表响应:', {
                  error: error,
                  res: res
                });

                // 检查是否有错误
                if (!error) {
                  _context.next = 18;
                  break;
                }
                console.error('请求错误:', error);
                _this.addressList = [];
                uni.showToast({
                  title: '网络请求失败',
                  icon: 'none',
                  duration: 2000
                });
                return _context.abrupt("return");
              case 18:
                // 检查响应状态
                if (res && res.statusCode === 200 && res.data) {
                  _this.addressList = res.data;
                  console.log('地址列表获取成功，数量:', _this.addressList.length);
                } else {
                  console.error('获取地址失败，状态码:', res === null || res === void 0 ? void 0 : res.statusCode, '响应:', res === null || res === void 0 ? void 0 : res.data);
                  _this.addressList = [];
                  uni.showToast({
                    title: '获取地址列表失败',
                    icon: 'none',
                    duration: 2000
                  });
                }
                _context.next = 26;
                break;
              case 21:
                _context.prev = 21;
                _context.t0 = _context["catch"](4);
                console.error('获取地址失败:', _context.t0);
                _this.addressList = [];

                // 检查是否是网络错误
                if (_context.t0.errMsg && _context.t0.errMsg.includes('timeout')) {
                  uni.showToast({
                    title: '网络超时，请检查网络连接',
                    icon: 'none',
                    duration: 2000
                  });
                } else {
                  uni.showToast({
                    title: '获取地址列表失败',
                    icon: 'none',
                    duration: 2000
                  });
                }
              case 26:
                _this.updateAllMarkers();
              case 27:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, null, [[4, 21]]);
      }))();
    },
    chooseThis: function chooseThis(idx) {
      var _this2 = this;
      return (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee2() {
        var address, _yield$uni$request3, _yield$uni$request4, error, res;
        return _regenerator.default.wrap(function _callee2$(_context2) {
          while (1) {
            switch (_context2.prev = _context2.next) {
              case 0:
                _context2.prev = 0;
                address = _this2.addressList[idx];
                _context2.next = 4;
                return uni.request({
                  url: "http://localhost:3000/api/address/".concat(address.id, "/default"),
                  method: 'PUT',
                  data: {
                    user_id: _this2.userId
                  }
                });
              case 4:
                _yield$uni$request3 = _context2.sent;
                _yield$uni$request4 = (0, _slicedToArray2.default)(_yield$uni$request3, 2);
                error = _yield$uni$request4[0];
                res = _yield$uni$request4[1];
                if (!error) {
                  _context2.next = 12;
                  break;
                }
                console.error('设置默认地址请求错误:', error);
                uni.showToast({
                  title: '设置默认地址失败',
                  icon: 'none'
                });
                return _context2.abrupt("return");
              case 12:
                if (res && res.statusCode === 200) {
                  uni.navigateBack();
                } else {
                  uni.showToast({
                    title: '设置默认地址失败',
                    icon: 'none'
                  });
                }
                _context2.next = 19;
                break;
              case 15:
                _context2.prev = 15;
                _context2.t0 = _context2["catch"](0);
                console.error('设置默认地址失败:', _context2.t0);
                uni.showToast({
                  title: '设置默认地址失败',
                  icon: 'none'
                });
              case 19:
              case "end":
                return _context2.stop();
            }
          }
        }, _callee2, null, [[0, 15]]);
      }))();
    },
    getLocation: function getLocation() {
      var _this3 = this;
      uni.showLoading({
        title: '定位中...'
      });
      uni.getLocation({
        type: 'gcj02',
        // 使用gcj02坐标系统，与百度地图兼容
        success: function success(res) {
          _this3.form.lat = res.latitude;
          _this3.form.lng = res.longitude;

          // 根据坐标获取地址信息
          _this3.reverseGeocode(res.latitude, res.longitude, true);
          uni.hideLoading();
          uni.showToast({
            title: '定位成功',
            icon: 'success'
          });
        },
        fail: function fail(err) {
          console.error('定位失败:', err);
          uni.hideLoading();

          // 根据错误类型显示不同的提示
          if (err.errMsg && err.errMsg.includes('permission')) {
            uni.showModal({
              title: '需要位置权限',
              content: '请在设置中允许获取位置信息，以便为您提供更好的服务',
              showCancel: false,
              confirmText: '我知道了'
            });
          } else {
            uni.showToast({
              title: '定位失败，请手动选择地址',
              icon: 'none',
              duration: 2000
            });
          }
        }
      });
    },
    // 逆地理编码 - 根据坐标获取地址
    reverseGeocode: function reverseGeocode(latitude, longitude) {
      var _arguments = arguments,
        _this4 = this;
      return (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee3() {
        var updateForm, url, params, queryString, _yield$uni$request5, _yield$uni$request6, error, res, result;
        return _regenerator.default.wrap(function _callee3$(_context3) {
          while (1) {
            switch (_context3.prev = _context3.next) {
              case 0:
                updateForm = _arguments.length > 2 && _arguments[2] !== undefined ? _arguments[2] : false;
                _context3.prev = 1;
                url = "".concat(_config.baiduMapConfig.baseUrl, "/reverse_geocoding/v3");
                params = {
                  location: "".concat(latitude, ",").concat(longitude),
                  output: 'json',
                  ak: _config.baiduMapConfig.ak,
                  coordtype: 'gcj02ll'
                };
                queryString = Object.keys(params).map(function (key) {
                  return "".concat(key, "=").concat(encodeURIComponent(params[key]));
                }).join('&');
                _context3.next = 7;
                return uni.request({
                  url: "".concat(url, "?").concat(queryString),
                  method: 'GET',
                  timeout: 10000
                });
              case 7:
                _yield$uni$request5 = _context3.sent;
                _yield$uni$request6 = (0, _slicedToArray2.default)(_yield$uni$request5, 2);
                error = _yield$uni$request6[0];
                res = _yield$uni$request6[1];
                if (!error && res.data && res.data.result) {
                  result = res.data.result;
                  if (updateForm) {
                    _this4.form.address = result.formatted_address || '未知地址';
                    // 如果详细地址为空，使用解析的地址
                    if (!_this4.form.detail) {
                      _this4.form.detail = result.formatted_address || '未知地址';
                    }
                  }
                  _this4.selectedAddress = {
                    name: '新选位置',
                    address: result.formatted_address,
                    lat: latitude,
                    lng: longitude
                  };
                } else {
                  if (updateForm) _this4.form.address = '未知地址';
                }
                _context3.next = 17;
                break;
              case 14:
                _context3.prev = 14;
                _context3.t0 = _context3["catch"](1);
                if (updateForm) _this4.form.address = '未知地址';
              case 17:
              case "end":
                return _context3.stop();
            }
          }
        }, _callee3, null, [[1, 14]]);
      }))();
    },
    // 打开地图选择页面
    openBaiduMap: function openBaiduMap() {
      uni.navigateTo({
        url: '/pkg_user/address/baiduMapSelect'
      });
    },
    // 从地图页面更新位置信息
    updateLocationFromMap: function updateLocationFromMap(addressInfo) {
      this.form.lat = addressInfo.latitude;
      this.form.lng = addressInfo.longitude;
      this.form.address = addressInfo.address;
      // 如果详细地址为空，使用地图返回的地址
      if (!this.form.detail) {
        this.form.detail = addressInfo.address;
      }
      uni.showToast({
        title: '位置已选择',
        icon: 'success'
      });
    },
    saveAddress: function saveAddress() {
      var _this5 = this;
      return (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee4() {
        var addressData, url, method, address, _yield$uni$request7, _yield$uni$request8, error, res;
        return _regenerator.default.wrap(function _callee4$(_context4) {
          while (1) {
            switch (_context4.prev = _context4.next) {
              case 0:
                if (!(!_this5.form.name || !_this5.form.phone || !_this5.form.detail)) {
                  _context4.next = 3;
                  break;
                }
                uni.showToast({
                  title: '请填写完整信息',
                  icon: 'none'
                });
                return _context4.abrupt("return");
              case 3:
                _context4.prev = 3;
                addressData = {
                  user_id: _this5.userId,
                  name: _this5.form.name,
                  phone: _this5.form.phone,
                  address: _this5.form.detail,
                  tag: _this5.form.tag,
                  is_default: _this5.form.isDefault,
                  lat: _this5.form.lat,
                  lng: _this5.form.lng
                };
                if (_this5.editIdx === -1) {
                  // 新增地址
                  url = 'http://localhost:3000/api/address';
                  method = 'POST';
                } else {
                  // 编辑地址
                  address = _this5.addressList[_this5.editIdx];
                  url = "http://localhost:3000/api/address/".concat(address.id);
                  method = 'PUT';
                }
                _context4.next = 8;
                return uni.request({
                  url: url,
                  method: method,
                  data: addressData
                });
              case 8:
                _yield$uni$request7 = _context4.sent;
                _yield$uni$request8 = (0, _slicedToArray2.default)(_yield$uni$request7, 2);
                error = _yield$uni$request8[0];
                res = _yield$uni$request8[1];
                if (!error) {
                  _context4.next = 16;
                  break;
                }
                console.error('保存地址请求错误:', error);
                uni.showToast({
                  title: '保存地址失败',
                  icon: 'none'
                });
                return _context4.abrupt("return");
              case 16:
                if (res && res.statusCode === 200) {
                  uni.showToast({
                    title: '地址保存成功',
                    icon: 'success'
                  });
                  _this5.showAdd = false; // 关闭弹窗
                  _this5.getAddressList(); // 刷新地址列表
                } else {
                  uni.showToast({
                    title: '保存地址失败',
                    icon: 'none'
                  });
                }
                _context4.next = 23;
                break;
              case 19:
                _context4.prev = 19;
                _context4.t0 = _context4["catch"](3);
                console.error('保存地址失败:', _context4.t0);
                uni.showToast({
                  title: '保存地址失败',
                  icon: 'none'
                });
              case 23:
              case "end":
                return _context4.stop();
            }
          }
        }, _callee4, null, [[3, 19]]);
      }))();
    },
    editAddress: function editAddress(idx) {
      var address = this.addressList[idx];
      this.form = {
        name: address.name,
        phone: address.phone,
        detail: address.address,
        tag: address.tag,
        isDefault: address.is_default,
        lat: address.lat,
        lng: address.lng,
        address: address.address
      };
      this.editIdx = idx;
      this.showAdd = true;
    },
    deleteAddress: function deleteAddress(idx) {
      var _this6 = this;
      return (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee6() {
        return _regenerator.default.wrap(function _callee6$(_context6) {
          while (1) {
            switch (_context6.prev = _context6.next) {
              case 0:
                uni.showModal({
                  title: '确认删除',
                  content: '确定要删除这个地址吗？',
                  success: function () {
                    var _success = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee5(res) {
                      var address, _yield$uni$request9, _yield$uni$request10, error, _res;
                      return _regenerator.default.wrap(function _callee5$(_context5) {
                        while (1) {
                          switch (_context5.prev = _context5.next) {
                            case 0:
                              if (!res.confirm) {
                                _context5.next = 20;
                                break;
                              }
                              _context5.prev = 1;
                              address = _this6.addressList[idx];
                              _context5.next = 5;
                              return uni.request({
                                url: "http://localhost:3000/api/address/".concat(address.id),
                                method: 'DELETE',
                                data: {
                                  user_id: _this6.userId
                                }
                              });
                            case 5:
                              _yield$uni$request9 = _context5.sent;
                              _yield$uni$request10 = (0, _slicedToArray2.default)(_yield$uni$request9, 2);
                              error = _yield$uni$request10[0];
                              _res = _yield$uni$request10[1];
                              if (!error) {
                                _context5.next = 13;
                                break;
                              }
                              console.error('删除地址请求错误:', error);
                              uni.showToast({
                                title: '删除失败',
                                icon: 'none'
                              });
                              return _context5.abrupt("return");
                            case 13:
                              if (_res && _res.statusCode === 200) {
                                _this6.addressList.splice(idx, 1);
                                uni.showToast({
                                  title: '删除成功',
                                  icon: 'success'
                                });
                              } else {
                                console.error('删除地址失败，状态码:', _res === null || _res === void 0 ? void 0 : _res.statusCode, '响应:', _res === null || _res === void 0 ? void 0 : _res.data);
                                uni.showToast({
                                  title: '删除失败',
                                  icon: 'none'
                                });
                              }
                              _context5.next = 20;
                              break;
                            case 16:
                              _context5.prev = 16;
                              _context5.t0 = _context5["catch"](1);
                              console.error('删除地址失败:', _context5.t0);
                              uni.showToast({
                                title: '删除失败',
                                icon: 'none'
                              });
                            case 20:
                            case "end":
                              return _context5.stop();
                          }
                        }
                      }, _callee5, null, [[1, 16]]);
                    }));
                    function success(_x) {
                      return _success.apply(this, arguments);
                    }
                    return success;
                  }()
                });
              case 1:
              case "end":
                return _context6.stop();
            }
          }
        }, _callee6);
      }))();
    },
    // 测试后端连接
    testBackendConnection: function testBackendConnection() {
      return (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee7() {
        var res;
        return _regenerator.default.wrap(function _callee7$(_context7) {
          while (1) {
            switch (_context7.prev = _context7.next) {
              case 0:
                _context7.prev = 0;
                console.log('测试后端连接...');
                _context7.next = 4;
                return uni.request({
                  url: 'http://localhost:3000/api/address/user/1',
                  method: 'GET',
                  timeout: 5000
                });
              case 4:
                res = _context7.sent;
                console.log('后端连接测试成功:', res.statusCode);
                _context7.next = 12;
                break;
              case 8:
                _context7.prev = 8;
                _context7.t0 = _context7["catch"](0);
                console.error('后端连接测试失败:', _context7.t0);
                uni.showModal({
                  title: '连接提示',
                  content: '无法连接到后端服务器，请确保服务器已启动',
                  showCancel: false,
                  confirmText: '我知道了'
                });
              case 12:
              case "end":
                return _context7.stop();
            }
          }
        }, _callee7, null, [[0, 8]]);
      }))();
    },
    // 获取用户当前位置
    getUserLocation: function getUserLocation() {
      var _this7 = this;
      uni.getLocation({
        type: 'gcj02',
        success: function success(res) {
          _this7.userLat = res.latitude;
          _this7.userLng = res.longitude;
          _this7.updateAllMarkers();
        },
        fail: function fail() {
          // 定位失败时默认北京
          _this7.userLat = 39.908823;
          _this7.userLng = 116.397470;
          _this7.updateAllMarkers();
        }
      });
    },
    // 地图点击选点
    onMapTap: function onMapTap(e) {
      var _e$detail = e.detail,
        latitude = _e$detail.latitude,
        longitude = _e$detail.longitude;
      if (!latitude || !longitude) return;
      this.form.lat = latitude;
      this.form.lng = longitude;
      this.reverseGeocode(latitude, longitude, true);
      this.userLat = latitude;
      this.userLng = longitude;
      this.mapScale = 16;
      this.highlightMarkerId = 'form';
      this.updateAllMarkers();
      uni.showToast({
        title: '已选中地图位置',
        icon: 'success'
      });
    },
    // marker点击高亮
    onMapMarkerTap: function onMapMarkerTap(e) {
      var markerId = e.detail.markerId;
      this.highlightMarkerId = markerId;
      if (markerId === -1) {
        this.selectedAddress = {
          name: '当前位置',
          address: '',
          lat: this.userLat,
          lng: this.userLng
        };
      } else if (this.addressList && this.addressList[markerId]) {
        this.selectedAddress = this.addressList[markerId];
        // 地图中心跳转到该地址
        if (this.selectedAddress.lat && this.selectedAddress.lng) {
          this.userLat = Number(this.selectedAddress.lat);
          this.userLng = Number(this.selectedAddress.lng);
        }
      } else if (markerId === 'form' && this.form.lat && this.form.lng) {
        this.selectedAddress = {
          name: '新选位置',
          address: this.form.address,
          lat: this.form.lat,
          lng: this.form.lng
        };
        this.userLat = Number(this.form.lat);
        this.userLng = Number(this.form.lng);
      }
      this.updateAllMarkers();
    },
    // 更新所有marker，支持高亮
    updateAllMarkers: function updateAllMarkers() {
      var _this8 = this;
      var markers = [];
      // 用户当前位置marker
      markers.push({
        id: -1,
        latitude: this.userLat,
        longitude: this.userLng,
        iconPath: this.highlightMarkerId === -1 ? '/static/images/map-marker.png' : '/static/images/map-marker.png',
        width: 44,
        height: 44,
        callout: {
          content: '当前位置',
          color: this.highlightMarkerId === -1 ? '#1890ff' : '#333',
          fontSize: 14,
          borderRadius: 8,
          bgColor: '#fff',
          padding: 8,
          display: 'ALWAYS'
        }
      });
      // 地址列表marker
      if (Array.isArray(this.addressList)) {
        this.addressList.forEach(function (addr, idx) {
          if (addr.lat && addr.lng) {
            markers.push({
              id: idx,
              latitude: Number(addr.lat),
              longitude: Number(addr.lng),
              iconPath: _this8.highlightMarkerId === idx ? '/static/images/map-marker.png' : '/static/images/map-marker.png',
              width: _this8.highlightMarkerId === idx ? 48 : 40,
              height: _this8.highlightMarkerId === idx ? 48 : 40,
              callout: {
                content: addr.name + '\n' + addr.address,
                color: _this8.highlightMarkerId === idx ? '#1890ff' : '#333',
                fontSize: 14,
                borderRadius: 8,
                bgColor: '#fff',
                padding: 8,
                display: 'ALWAYS'
              }
            });
          }
        });
      }
      // 新选点marker（表单）
      if (this.form.lat && this.form.lng) {
        markers.push({
          id: 'form',
          latitude: Number(this.form.lat),
          longitude: Number(this.form.lng),
          iconPath: this.highlightMarkerId === 'form' ? '/static/images/map-marker.png' : '/static/images/map-marker.png',
          width: this.highlightMarkerId === 'form' ? 48 : 40,
          height: this.highlightMarkerId === 'form' ? 48 : 40,
          callout: {
            content: '新选位置',
            color: this.highlightMarkerId === 'form' ? '#1890ff' : '#333',
            fontSize: 14,
            borderRadius: 8,
            bgColor: '#fff',
            padding: 8,
            display: 'ALWAYS'
          }
        });
      }
      this.allMarkers = markers;
    }
  }, (0, _defineProperty2.default)(_methods, "reverseGeocode", function reverseGeocode(latitude, longitude) {
    var _arguments2 = arguments,
      _this9 = this;
    return (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee8() {
      var updateForm, url, params, queryString, _yield$uni$request11, _yield$uni$request12, error, res, result;
      return _regenerator.default.wrap(function _callee8$(_context8) {
        while (1) {
          switch (_context8.prev = _context8.next) {
            case 0:
              updateForm = _arguments2.length > 2 && _arguments2[2] !== undefined ? _arguments2[2] : false;
              _context8.prev = 1;
              url = "".concat(_config.baiduMapConfig.baseUrl, "/reverse_geocoding/v3");
              params = {
                location: "".concat(latitude, ",").concat(longitude),
                output: 'json',
                ak: _config.baiduMapConfig.ak,
                coordtype: 'gcj02ll'
              };
              queryString = Object.keys(params).map(function (key) {
                return "".concat(key, "=").concat(encodeURIComponent(params[key]));
              }).join('&');
              _context8.next = 7;
              return uni.request({
                url: "".concat(url, "?").concat(queryString),
                method: 'GET',
                timeout: 10000
              });
            case 7:
              _yield$uni$request11 = _context8.sent;
              _yield$uni$request12 = (0, _slicedToArray2.default)(_yield$uni$request11, 2);
              error = _yield$uni$request12[0];
              res = _yield$uni$request12[1];
              if (!error && res.data && res.data.result) {
                result = res.data.result;
                if (updateForm) {
                  _this9.form.address = result.formatted_address || '未知地址';
                  if (!_this9.form.detail) {
                    _this9.form.detail = result.formatted_address || '未知地址';
                  }
                }
                _this9.selectedAddress = {
                  name: '新选位置',
                  address: result.formatted_address,
                  lat: latitude,
                  lng: longitude
                };
              } else {
                if (updateForm) _this9.form.address = '未知地址';
              }
              _context8.next = 17;
              break;
            case 14:
              _context8.prev = 14;
              _context8.t0 = _context8["catch"](1);
              if (updateForm) _this9.form.address = '未知地址';
            case 17:
            case "end":
              return _context8.stop();
          }
        }
      }, _callee8, null, [[1, 14]]);
    }))();
  }), (0, _defineProperty2.default)(_methods, "onDetailInput", function onDetailInput(e) {
    var _this10 = this;
    return (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee9() {
      var url, params, queryString, _yield$uni$request13, _yield$uni$request14, error, res, _res$data$result$loca, lat, lng;
      return _regenerator.default.wrap(function _callee9$(_context9) {
        while (1) {
          switch (_context9.prev = _context9.next) {
            case 0:
              _this10.form.detail = e.detail.value;
              if (_this10.form.detail) {
                _context9.next = 3;
                break;
              }
              return _context9.abrupt("return");
            case 3:
              // 调用百度地理编码API
              url = "".concat(_config.baiduMapConfig.baseUrl, "/geocoding/v3");
              params = {
                address: _this10.form.detail,
                output: 'json',
                ak: _config.baiduMapConfig.ak,
                ret_coordtype: 'gcj02ll'
              };
              queryString = Object.keys(params).map(function (key) {
                return "".concat(key, "=").concat(encodeURIComponent(params[key]));
              }).join('&');
              _context9.next = 8;
              return uni.request({
                url: "".concat(url, "?").concat(queryString),
                method: 'GET',
                timeout: 10000
              });
            case 8:
              _yield$uni$request13 = _context9.sent;
              _yield$uni$request14 = (0, _slicedToArray2.default)(_yield$uni$request13, 2);
              error = _yield$uni$request14[0];
              res = _yield$uni$request14[1];
              if (!error && res.data && res.data.result && res.data.result.location) {
                _res$data$result$loca = res.data.result.location, lat = _res$data$result$loca.lat, lng = _res$data$result$loca.lng; // 实时更新地图中心点和表单经纬度，蓝点marker自动跳转
                _this10.modalMapLat = lat;
                _this10.modalMapLng = lng;
                _this10.form.lat = lat;
                _this10.form.lng = lng;
                _this10.addressMarker = [{
                  id: 1,
                  latitude: lat,
                  longitude: lng,
                  iconPath: 'circle',
                  width: 32,
                  height: 32,
                  color: '#1890ff',
                  borderWidth: 2,
                  borderColor: '#fff',
                  alpha: 1
                }];
              }
            case 13:
            case "end":
              return _context9.stop();
          }
        }
      }, _callee9);
    }))();
  }), (0, _defineProperty2.default)(_methods, "showAddModal", function showAddModal() {
    var isEdit = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;
    var idx = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : -1;
    if (isEdit && idx >= 0) {
      this.editAddress(idx);
      if (this.form.lat && this.form.lng) {
        this.modalMapLat = Number(this.form.lat);
        this.modalMapLng = Number(this.form.lng);
        this.addressMarker = [{
          id: 1,
          latitude: Number(this.form.lat),
          longitude: Number(this.form.lng),
          iconPath: 'circle',
          width: 32,
          height: 32,
          color: '#1890ff',
          borderWidth: 2,
          borderColor: '#fff',
          alpha: 1
        }];
      } else {
        this.getModalUserLocation();
      }
    } else {
      this.form = {
        name: '',
        phone: '',
        detail: '',
        tag: '家',
        isDefault: false,
        lat: '',
        lng: '',
        address: ''
      };
      this.editIdx = -1;
      this.getModalUserLocation();
    }
    this.modalMapScale = 16;
    this.modalHighlightMarkerId = 'form';
    this.updateModalMapMarkers();
    this.showAdd = true;
  }), (0, _defineProperty2.default)(_methods, "onAddBtnClick", function onAddBtnClick() {
    this.showAddModal(false);
  }), (0, _defineProperty2.default)(_methods, "onEditBtnClick", function onEditBtnClick(idx) {
    this.showAddModal(true, idx);
  }), (0, _defineProperty2.default)(_methods, "getModalUserLocation", function getModalUserLocation() {
    var _this11 = this;
    uni.getLocation({
      type: 'gcj02',
      success: function success(res) {
        _this11.modalMapLat = res.latitude;
        _this11.modalMapLng = res.longitude;
        _this11.form.lat = res.latitude;
        _this11.form.lng = res.longitude;
        _this11.reverseGeocode(res.latitude, res.longitude, true);
        _this11.addressMarker = [{
          id: 1,
          latitude: res.latitude,
          longitude: res.longitude,
          iconPath: 'circle',
          width: 32,
          height: 32,
          color: '#1890ff',
          borderWidth: 2,
          borderColor: '#fff',
          alpha: 1
        }];
      },
      fail: function fail() {
        _this11.modalMapLat = 39.908823;
        _this11.modalMapLng = 116.397470;
        _this11.addressMarker = [{
          id: 1,
          latitude: 39.908823,
          longitude: 116.397470,
          iconPath: 'circle',
          width: 32,
          height: 32,
          color: '#1890ff',
          borderWidth: 2,
          borderColor: '#fff',
          alpha: 1
        }];
      }
    });
  }), (0, _defineProperty2.default)(_methods, "onModalMapTap", function onModalMapTap(e) {
    var _e$detail2 = e.detail,
      latitude = _e$detail2.latitude,
      longitude = _e$detail2.longitude;
    if (!latitude || !longitude) return;
    this.form.lat = latitude;
    this.form.lng = longitude;
    this.modalMapLat = latitude;
    this.modalMapLng = longitude;
    this.reverseGeocode(latitude, longitude, true);
    this.addressMarker = [{
      id: 1,
      latitude: latitude,
      longitude: longitude,
      iconPath: 'circle',
      width: 32,
      height: 32,
      color: '#1890ff',
      borderWidth: 2,
      borderColor: '#fff',
      alpha: 1
    }];
    uni.showToast({
      title: '已选中地图位置',
      icon: 'success'
    });
  }), (0, _defineProperty2.default)(_methods, "onModalMapMarkerTap", function onModalMapMarkerTap(e) {
    var markerId = e.detail.markerId;
    this.modalHighlightMarkerId = markerId;
    this.updateModalMapMarkers();
  }), (0, _defineProperty2.default)(_methods, "updateModalMapMarkers", function updateModalMapMarkers() {
    var markers = [];
    if (this.form.lat && this.form.lng) {
      markers.push({
        id: 'form',
        latitude: Number(this.form.lat),
        longitude: Number(this.form.lng),
        iconPath: this.modalHighlightMarkerId === 'form' ? '/static/images/map-marker.png' : '/static/images/map-marker.png',
        width: this.modalHighlightMarkerId === 'form' ? 56 : 44,
        height: this.modalHighlightMarkerId === 'form' ? 56 : 44,
        callout: {
          content: '选中位置',
          color: this.modalHighlightMarkerId === 'form' ? '#1890ff' : '#333',
          fontSize: 16,
          borderRadius: 8,
          bgColor: '#fff',
          padding: 8,
          display: 'ALWAYS'
        }
      });
    }
    this.modalMapMarkers = markers;
  }), _methods)
};
exports.default = _default;
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 2)["default"]))

/***/ }),

/***/ 107:
/*!********************************************************************************************************************!*\
  !*** D:/uniapp_project/food/pkg_user/address/address.vue?vue&type=style&index=0&id=202230b6&scoped=true&lang=css& ***!
  \********************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _HBuilderX_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_HBuilderX_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_HBuilderX_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_HBuilderX_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_2_HBuilderX_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_HBuilderX_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_HBuilderX_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_address_vue_vue_type_style_index_0_id_202230b6_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-2!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src??ref--6-oneOf-1-3!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./address.vue?vue&type=style&index=0&id=202230b6&scoped=true&lang=css& */ 108);
/* harmony import */ var _HBuilderX_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_HBuilderX_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_HBuilderX_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_HBuilderX_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_2_HBuilderX_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_HBuilderX_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_HBuilderX_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_address_vue_vue_type_style_index_0_id_202230b6_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_HBuilderX_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_HBuilderX_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_HBuilderX_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_HBuilderX_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_2_HBuilderX_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_HBuilderX_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_HBuilderX_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_address_vue_vue_type_style_index_0_id_202230b6_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _HBuilderX_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_HBuilderX_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_HBuilderX_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_HBuilderX_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_2_HBuilderX_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_HBuilderX_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_HBuilderX_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_address_vue_vue_type_style_index_0_id_202230b6_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__) if(["default"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _HBuilderX_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_HBuilderX_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_HBuilderX_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_HBuilderX_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_2_HBuilderX_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_HBuilderX_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_HBuilderX_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_address_vue_vue_type_style_index_0_id_202230b6_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));
 /* harmony default export */ __webpack_exports__["default"] = (_HBuilderX_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_HBuilderX_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_HBuilderX_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_HBuilderX_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_2_HBuilderX_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_HBuilderX_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_HBuilderX_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_address_vue_vue_type_style_index_0_id_202230b6_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),

/***/ 108:
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-2!./node_modules/postcss-loader/src??ref--6-oneOf-1-3!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!D:/uniapp_project/food/pkg_user/address/address.vue?vue&type=style&index=0&id=202230b6&scoped=true&lang=css& ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
    if(false) { var cssReload; }
  

/***/ })

},[[101,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pkg_user/address/address.js.map