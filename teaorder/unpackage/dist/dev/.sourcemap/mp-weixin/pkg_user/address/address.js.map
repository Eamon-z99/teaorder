{"version":3,"sources":["uni-app:///main.js",null,"webpack:///D:/uniapp_project/food/pkg_user/address/address.vue?ef55","webpack:///D:/uniapp_project/food/pkg_user/address/address.vue?12b2","webpack:///D:/uniapp_project/food/pkg_user/address/address.vue?ddb2","uni-app:///pkg_user/address/address.vue","webpack:///D:/uniapp_project/food/pkg_user/address/address.vue?2872","webpack:///D:/uniapp_project/food/pkg_user/address/address.vue?46b4"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","userLat","userLng","allMarkers","selectedAddress","addressList","showAdd","form","name","phone","detail","tag","isDefault","lat","lng","address","editIdx","tags","chooseMode","userId","userInfo","mapScale","highlightMarkerId","modalMapLat","modalMapLng","modalMapScale","modalMapMarkers","modalHighlightMarkerId","addressMarker","onLoad","onShow","methods","checkLoginStatus","uni","getAddressList","console","url","method","timeout","error","res","title","icon","duration","chooseThis","user_id","getLocation","type","success","fail","content","showCancel","confirmText","reverseGeocode","updateForm","params","location","output","ak","coordtype","queryString","map","join","result","openBaiduMap","updateLocationFromMap","saveAddress","addressData","is_default","editAddress","deleteAddress","testBackendConnection","getUserLocation","onMapTap","latitude","longitude","onMapMarkerTap","updateAllMarkers","markers","id","iconPath","width","height","callout","color","fontSize","borderRadius","bgColor","padding","display","e","ret_coordtype","borderWidth","borderColor","alpha","idx"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,gBAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAgI;AAChI;AAC2D;AACL;AACqC;;;AAG3F;AAC6K;AAC7K,gBAAgB,uLAAU;AAC1B,EAAE,6EAAM;AACR,EAAE,8FAAM;AACR,EAAE,uGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,kGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AChDA;AAAA;AAAA;AAAA;AAAspB,CAAgB,mqBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;AC+G1qB;AAAA;AAAA,eACA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;QAAAC;QAAAC;QAAAC;QAAAC;QAAAC;QAAAC;QAAAC;QAAAC;MAAA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MAAA;MACAC;MAAA;MACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACA;IACA;IACA;IACA;EACA;EACAC;IACA;IACA;IACA;IACA;IACA;IACA;EACA;EACAC;IACAC;MACA;MACA;MACA;MACA;QACAZ;QACAa;MACA;MACA;QACA;QACA;MACA;QACA;QACA;MACA;IACA;IACA;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBA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;QACAC;UACAjC;UACAkC;UACAC;UACAC;UACAC;UACAC;UACAC;QACA;MACA;MACA;MACA;QACA;UACA;YACAX;cACAC;cACAL;cACAC;cACAK;cACAC;cACAC;cACAC;gBACAjC;gBACAkC;gBACAC;gBACAC;gBACAC;gBACAC;gBACAC;cACA;YACA;UACA;QACA;MACA;MACA;MACA;QACAX;UACAC;UACAL;UACAC;UACAK;UACAC;UACAC;UACAC;YACAjC;YACAkC;YACAC;YACAC;YACAC;YACAC;YACAC;UACA;QACA;MACA;MACA;IACA;EAAA,qFAEAf;IAAA;MAAA;IAAA;MAAA;MAAA;QAAA;UAAA;YAAA;cAAApB;cAAA;cAEAlB;cACAmB;gBACAC;gBACAC;gBACAC;gBACAC;cACA;cACAC,kCACAC;gBAAA;cAAA,GACAC;cAAA;cAAA,OACA7B;gBACAG;gBACAC;gBACAC;cACA;YAAA;cAAA;cAAA;cAJAC;cAAAC;cAKA;gBACAuB;gBACA;kBACA;kBACA;oBACA;kBACA;gBACA;gBACA;kBACAvD;kBACAO;kBACAF;kBACAC;gBACA;cACA;gBACA;cACA;cAAA;cAAA;YAAA;cAAA;cAAA;cAEA;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA;EAEA,oFAEA4E;IAAA;IAAA;MAAA;MAAA;QAAA;UAAA;YAAA;cACA;cAAA,IACA;gBAAA;gBAAA;cAAA;cAAA;YAAA;cACA;cACAtD;cACAmB;gBACAxC;gBACA0C;gBACAC;gBACAiC;cACA;cACA/B,kCACAC;gBAAA;cAAA,GACAC;cAAA;cAAA,OACA7B;gBACAG;gBACAC;gBACAC;cACA;YAAA;cAAA;cAAA;cAJAC;cAAAC;cAKA;gBAAA,wBACAA,4FACA;gBACA;gBACA;gBACA;gBACA;gBACA;kBACAuC;kBACAL;kBACAC;kBACAK;kBACAC;kBACAC;kBACAE;kBACAQ;kBACAC;kBACAC;gBACA;cACA;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA;EACA,oFAEA;IAAA;IAAA;IACA;MACA;MACA;QACA;QACA;QACA;UACAf;UACAL;UACAC;UACAK;UACAC;UACAC;UACAE;UACAQ;UACAC;UACAC;QACA;MACA;QACA;MACA;IACA;MACA;QAAAtF;QAAAC;QAAAC;QAAAC;QAAAC;QAAAC;QAAAC;QAAAC;MAAA;MACA;MACA;IACA;IACA;IACA;IACA;IACA;EACA,sFAEA;IACA;EACA,sFAEAgF;IACA;EACA,oGAEA;IAAA;IACA9D;MACAc;MACAC;QACA;QACA;QACA;QACA;QACA;QACA;UACA+B;UACAL;UACAC;UACAK;UACAC;UACAC;UACAE;UACAQ;UACAC;UACAC;QACA;MACA;MACA7C;QACA;QACA;QACA;UACA8B;UACAL;UACAC;UACAK;UACAC;UACAC;UACAE;UACAQ;UACAC;UACAC;QACA;MACA;IACA;EACA,oFAEAJ;IACA;MAAAhB;MAAAC;IACA;IACA;IACA;IACA;IACA;IACA;IACA;MACAI;MACAL;MACAC;MACAK;MACAC;MACAC;MACAE;MACAQ;MACAC;MACAC;IACA;IACA7D;MAAAQ;MAAAC;IAAA;EACA,gGAEAgD;IACA;IACA;IACA;EACA,sGAEA;IACA;IACA;MACAZ;QACAC;QACAL;QACAC;QACAK;QACAC;QACAC;QACAC;UACAjC;UACAkC;UACAC;UACAC;UACAC;UACAC;UACAC;QACA;MACA;IACA;IACA;EACA;AAEA;AAAA,2B;;;;;;;;;;;;;AC3zBA;AAAA;AAAA;AAAA;AAAq9B,CAAgB,o8BAAG,EAAC,C;;;;;;;;;;;ACAz+B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pkg_user/address/address.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pkg_user/address/address.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./address.vue?vue&type=template&id=202230b6&scoped=true&\"\nvar renderjs\nimport script from \"./address.vue?vue&type=script&lang=js&\"\nexport * from \"./address.vue?vue&type=script&lang=js&\"\nimport style0 from \"./address.vue?vue&type=style&index=0&id=202230b6&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"202230b6\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pkg_user/address/address.vue\"\nexport default component.exports","export * from \"-!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./address.vue?vue&type=template&id=202230b6&scoped=true&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = _vm.addressList.length\n  if (!_vm._isMounted) {\n    _vm.e0 = function ($event, idx) {\n      var _temp = arguments[arguments.length - 1].currentTarget.dataset,\n        _temp2 = _temp.eventParams || _temp[\"event-params\"],\n        idx = _temp2.idx\n      var _temp, _temp2\n      _vm.chooseMode && _vm.chooseThis(idx)\n    }\n    _vm.e1 = function ($event) {\n      if ($event.target !== $event.currentTarget) {\n        return null\n      }\n      _vm.showAdd = false\n    }\n    _vm.e2 = function ($event) {\n      _vm.showAdd = false\n    }\n    _vm.e3 = function ($event, tag) {\n      var _temp3 = arguments[arguments.length - 1].currentTarget.dataset,\n        _temp4 = _temp3.eventParams || _temp3[\"event-params\"],\n        tag = _temp4.tag\n      var _temp3, _temp4\n      _vm.form.tag = tag\n    }\n    _vm.e4 = function ($event) {\n      _vm.form.isDefault = $event.detail.value\n    }\n    _vm.e5 = function ($event) {\n      _vm.showAdd = false\n    }\n  }\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./address.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./address.vue?vue&type=script&lang=js&\"","<template>\n  <view class=\"address-page\">\n    <view class=\"address-header\">\n      <text class=\"header-title\">地址管理</text>\n      <text class=\"header-subtitle\">管理您的收货地址</text>\n    </view>\n    <view v-if=\"addressList.length === 0\" class=\"address-empty\">\n      <image :src=\"$oss + 'button/我的.png'\" class=\"empty-icon\" mode=\"aspectFit\"></image>\n      <text class=\"empty-text\">暂无地址</text>\n      <text class=\"empty-desc\">添加您的第一个收货地址</text>\n    </view>\n    <view v-else class=\"address-list\">\n      <view v-for=\"(addr, idx) in addressList\" :key=\"idx\" class=\"address-item\" @click=\"chooseMode && chooseThis(idx)\">\n        <view class=\"address-info\">\n          <view class=\"address-header-row\">\n            <view class=\"contact-info\">\n              <text class=\"address-name\">{{ addr.name }}</text>\n              <text class=\"address-phone\">{{ addr.phone }}</text>\n            </view>\n            <view class=\"address-tags\">\n              <text v-if=\"addr.is_default\" class=\"default-tag\">默认</text>\n              <text class=\"tag-tag\">{{ addr.tag }}</text>\n            </view>\n          </view>\n          <text class=\"address-detail\">{{ addr.address }}</text>\n        </view>\n        <view class=\"address-actions\">\n          <view class=\"action-btn edit-btn\" @click.stop=\"onEditBtnClick(idx)\">\n            <text class=\"action-icon\">✏️</text>\n            <text class=\"action-text\">编辑</text>\n          </view>\n          <view class=\"action-btn del-btn\" @click.stop=\"deleteAddress(idx)\">\n            <text class=\"action-icon\">🗑️</text>\n            <text class=\"action-text\">删除</text>\n          </view>\n        </view>\n      </view>\n    </view>\n    <view class=\"add-btn\" @click=\"onAddBtnClick\">\n      <text class=\"add-icon\">+</text>\n      <text class=\"add-text\">添加新地址</text>\n    </view>\n    <!-- 新增/编辑弹窗 -->\n    <view v-if=\"showAdd\" class=\"address-modal-mask\" @click.self=\"showAdd = false\">\n      <view class=\"address-modal address-modal-flex\">\n        <!-- 上半部分地图 -->\n        <view class=\"modal-map-wrapper\">\n          <map\n            class=\"modal-map\"\n            :latitude=\"modalMapLat\"\n            :longitude=\"modalMapLng\"\n            :markers=\"addressMarker\"\n            :scale=\"modalMapScale\"\n            :enable-zoom=\"true\"\n            :enable-scroll=\"true\"\n            :show-location=\"false\"\n            @tap=\"onModalMapTap\"\n          ></map>\n        </view>\n        <!-- 下半部分表单 -->\n        <view class=\"modal-form-section\">\n          <view class=\"modal-header\">\n            <text class=\"modal-title\">{{ editIdx === -1 ? '新增地址' : '编辑地址' }}</text>\n            <text class=\"modal-close\" @click=\"showAdd = false\">×</text>\n          </view>\n          <view class=\"form-section\">\n            <view class=\"input-group\">\n              <text class=\"input-label\">收货人</text>\n              <input v-model=\"form.name\" placeholder=\"请输入收货人姓名\" class=\"modal-input\" />\n            </view>\n            <view class=\"input-group\">\n              <text class=\"input-label\">手机号</text>\n              <input v-model=\"form.phone\" placeholder=\"请输入手机号码\" class=\"modal-input\" type=\"number\" />\n            </view>\n            <view class=\"input-group\">\n              <text class=\"input-label\">详细地址</text>\n              <textarea v-model=\"form.detail\" placeholder=\"请输入详细地址\" class=\"modal-textarea\" @input=\"onDetailInput\" />\n            </view>\n          </view>\n          <view class=\"tag-section\">\n            <text class=\"section-title\">地址标签</text>\n            <view class=\"tag-options\">\n              <view \n                v-for=\"tag in tags\" \n                :key=\"tag\"\n                :class=\"['tag-option', form.tag === tag ? 'selected' : '']\"\n                @click=\"form.tag = tag\"\n              >\n                {{ tag }}\n              </view>\n            </view>\n          </view>\n          <view class=\"default-section\">\n            <text class=\"default-title\">设为默认地址</text>\n            <switch \n              :checked=\"form.isDefault\" \n              @change=\"form.isDefault = $event.detail.value\"\n              color=\"#1890ff\"\n            />\n          </view>\n          <view class=\"modal-actions\">\n            <button class=\"modal-btn cancel\" @click=\"showAdd = false\">取消</button>\n            <button class=\"modal-btn confirm\" @click=\"saveAddress\">保存</button>\n          </view>\n        </view>\n      </view>\n    </view>\n  </view>\n</template>\n\n<script>\nimport { baiduMapConfig } from '../../config.js';\nexport default {\n  data() {\n    return {\n      userLat: 39.908823,\n      userLng: 116.397470,\n      allMarkers: [],\n      selectedAddress: null,\n      addressList: [],\n      showAdd: false,\n      form: { name: '', phone: '', detail: '', tag: '家', isDefault: false, lat: '', lng: '', address: '' },\n      editIdx: -1,\n      tags: ['家', '公司', '学校'],\n      chooseMode: false,\n      userId: null,\n      userInfo: null,\n      mapScale: 14, // 新增缩放级别\n      highlightMarkerId: null, // 高亮marker\n      // 弹窗地图相关\n      modalMapLat: 39.908823,\n      modalMapLng: 116.397470,\n      modalMapScale: 16,\n      modalMapMarkers: [],\n      modalHighlightMarkerId: 'form',\n      addressMarker: [], // 自定义蓝点marker\n    };\n  },\n  onLoad() {\n    this.getUserInfo();\n    this.getUserLocation();\n    this.getAddressList();\n    this.testBackendConnection();\n  },\n  onShow() {\n    this.checkLoginStatus();\n    this.getAddressList();\n    // 兼容switchTab跳转参数\n    const pages = getCurrentPages();\n    const current = pages[pages.length - 1];\n    if (current.options && current.options.choose) this.chooseMode = true;\n  },\n  methods: {\n    checkLoginStatus() {\n      let userInfo = uni.getStorageSync('userInfo');\n      const token = uni.getStorageSync('token');\n      // 兼容userId字段\n      if (userInfo && !userInfo.id && userInfo.userId) {\n        userInfo.id = userInfo.userId;\n        uni.setStorageSync('userInfo', userInfo);\n      }\n      if (userInfo && token) {\n        this.userInfo = userInfo;\n        this.userId = userInfo.id;\n      } else {\n        this.userInfo = null;\n        this.userId = null;\n      }\n    },\n    // 获取地址列表\n    async getAddressList() {\n      if (!this.userId) {\n        console.log('用户ID为空，跳过获取地址列表');\n        this.addressList = [];\n        return;\n      }\n      \n      try {\n        console.log('开始获取地址列表，用户ID:', this.userId);\n        const [error, res] = await uni.request({\n          url: `http://localhost:3000/api/address/user/${this.userId}`,\n          method: 'GET',\n          timeout: 10000\n        });\n        \n        console.log('地址列表响应:', { error, res });\n        \n        // 检查是否有错误\n        if (error) {\n          console.error('请求错误:', error);\n          this.addressList = [];\n          uni.showToast({ \n            title: '网络请求失败', \n            icon: 'none',\n            duration: 2000\n          });\n          return;\n        }\n        \n        // 检查响应状态\n        if (res && res.statusCode === 200 && res.data) {\n          this.addressList = res.data;\n          console.log('地址列表获取成功，数量:', this.addressList.length);\n        } else {\n          console.error('获取地址失败，状态码:', res?.statusCode, '响应:', res?.data);\n          this.addressList = [];\n          uni.showToast({ \n            title: '获取地址列表失败', \n            icon: 'none',\n            duration: 2000\n          });\n        }\n      } catch (error) {\n        console.error('获取地址失败:', error);\n        this.addressList = [];\n        \n        // 检查是否是网络错误\n        if (error.errMsg && error.errMsg.includes('timeout')) {\n          uni.showToast({ \n            title: '网络超时，请检查网络连接', \n            icon: 'none',\n            duration: 2000\n          });\n        } else {\n          uni.showToast({ \n            title: '获取地址列表失败', \n            icon: 'none',\n            duration: 2000\n          });\n        }\n      }\n      this.updateAllMarkers();\n    },\n    async chooseThis(idx) {\n      try {\n        const address = this.addressList[idx];\n        const [error, res] = await uni.request({\n          url: `http://localhost:3000/api/address/${address.id}/default`,\n          method: 'PUT',\n          data: { user_id: this.userId }\n        });\n        \n        if (error) {\n          console.error('设置默认地址请求错误:', error);\n          uni.showToast({ title: '设置默认地址失败', icon: 'none' });\n          return;\n        }\n        \n        if (res && res.statusCode === 200) {\n          uni.navigateBack();\n        } else {\n          uni.showToast({ title: '设置默认地址失败', icon: 'none' });\n        }\n      } catch (error) {\n        console.error('设置默认地址失败:', error);\n        uni.showToast({ title: '设置默认地址失败', icon: 'none' });\n      }\n    },\n    getLocation() {\n      uni.showLoading({ title: '定位中...' });\n      \n      uni.getLocation({\n        type: 'gcj02', // 使用gcj02坐标系统，与百度地图兼容\n        success: (res) => {\n          this.form.lat = res.latitude;\n          this.form.lng = res.longitude;\n          \n          // 根据坐标获取地址信息\n          this.reverseGeocode(res.latitude, res.longitude, true);\n          \n          uni.hideLoading();\n          uni.showToast({ title: '定位成功', icon: 'success' });\n        },\n        fail: (err) => {\n          console.error('定位失败:', err);\n          uni.hideLoading();\n          \n          // 根据错误类型显示不同的提示\n          if (err.errMsg && err.errMsg.includes('permission')) {\n            uni.showModal({\n              title: '需要位置权限',\n              content: '请在设置中允许获取位置信息，以便为您提供更好的服务',\n              showCancel: false,\n              confirmText: '我知道了'\n            });\n          } else {\n            uni.showToast({ \n              title: '定位失败，请手动选择地址', \n              icon: 'none',\n              duration: 2000\n            });\n          }\n        }\n      });\n    },\n    \n    // 逆地理编码 - 根据坐标获取地址\n    async reverseGeocode(latitude, longitude, updateForm = false) {\n      try {\n        const url = `${baiduMapConfig.baseUrl}/reverse_geocoding/v3`;\n        const params = {\n          location: `${latitude},${longitude}`,\n          output: 'json',\n          ak: baiduMapConfig.ak,\n          coordtype: 'gcj02ll'\n        };\n        \n        const queryString = Object.keys(params)\n          .map(key => `${key}=${encodeURIComponent(params[key])}`)\n          .join('&');\n        \n        const [error, res] = await uni.request({\n          url: `${url}?${queryString}`,\n          method: 'GET',\n          timeout: 10000\n        });\n        \n        if (!error && res.data && res.data.result) {\n          const result = res.data.result;\n          if (updateForm) {\n            this.form.address = result.formatted_address || '未知地址';\n            // 如果详细地址为空，使用解析的地址\n            if (!this.form.detail) {\n              this.form.detail = result.formatted_address || '未知地址';\n            }\n          }\n          this.selectedAddress = {\n            name: '新选位置',\n            address: result.formatted_address,\n            lat: latitude,\n            lng: longitude\n          };\n        } else {\n          if (updateForm) this.form.address = '未知地址';\n        }\n      } catch (error) {\n        if (updateForm) this.form.address = '未知地址';\n      }\n    },\n    \n    // 打开地图选择页面\n    openBaiduMap() {\n      uni.navigateTo({\n        url: '/pkg_user/address/baiduMapSelect'\n      });\n    },\n    \n    // 从地图页面更新位置信息\n    updateLocationFromMap(addressInfo) {\n      this.form.lat = addressInfo.latitude;\n      this.form.lng = addressInfo.longitude;\n      this.form.address = addressInfo.address;\n      // 如果详细地址为空，使用地图返回的地址\n      if (!this.form.detail) {\n        this.form.detail = addressInfo.address;\n      }\n      uni.showToast({ title: '位置已选择', icon: 'success' });\n    },\n    async saveAddress() {\n      if (!this.form.name || !this.form.phone || !this.form.detail) {\n        uni.showToast({ title: '请填写完整信息', icon: 'none' });\n        return;\n      }\n      \n      try {\n        const addressData = {\n          user_id: this.userId,\n          name: this.form.name,\n          phone: this.form.phone,\n          address: this.form.detail,\n          tag: this.form.tag,\n          is_default: this.form.isDefault,\n          lat: this.form.lat,\n          lng: this.form.lng\n        };\n        \n        let url, method;\n        if (this.editIdx === -1) {\n          // 新增地址\n          url = 'http://localhost:3000/api/address';\n          method = 'POST';\n        } else {\n          // 编辑地址\n          const address = this.addressList[this.editIdx];\n          url = `http://localhost:3000/api/address/${address.id}`;\n          method = 'PUT';\n        }\n        \n        const [error, res] = await uni.request({\n          url: url,\n          method: method,\n          data: addressData\n        });\n        \n        if (error) {\n          console.error('保存地址请求错误:', error);\n          uni.showToast({ title: '保存地址失败', icon: 'none' });\n          return;\n        }\n        \n        if (res && res.statusCode === 200) {\n          uni.showToast({ title: '地址保存成功', icon: 'success' });\n          this.showAdd = false; // 关闭弹窗\n          this.getAddressList(); // 刷新地址列表\n        } else {\n          uni.showToast({ title: '保存地址失败', icon: 'none' });\n        }\n      } catch (error) {\n        console.error('保存地址失败:', error);\n        uni.showToast({ title: '保存地址失败', icon: 'none' });\n      }\n    },\n    editAddress(idx) {\n      const address = this.addressList[idx];\n      this.form = {\n        name: address.name,\n        phone: address.phone,\n        detail: address.address,\n        tag: address.tag,\n        isDefault: address.is_default,\n        lat: address.lat,\n        lng: address.lng,\n        address: address.address\n      };\n      this.editIdx = idx;\n      this.showAdd = true;\n    },\n    async deleteAddress(idx) {\n      uni.showModal({\n        title: '确认删除',\n        content: '确定要删除这个地址吗？',\n        success: async (res) => {\n          if (res.confirm) {\n            try {\n              const address = this.addressList[idx];\n              const [error, res] = await uni.request({\n                url: `http://localhost:3000/api/address/${address.id}`,\n                method: 'DELETE',\n                data: { user_id: this.userId }\n              });\n              \n              if (error) {\n                console.error('删除地址请求错误:', error);\n                uni.showToast({ title: '删除失败', icon: 'none' });\n                return;\n              }\n              \n              if (res && res.statusCode === 200) {\n                this.addressList.splice(idx, 1);\n                uni.showToast({ title: '删除成功', icon: 'success' });\n              } else {\n                console.error('删除地址失败，状态码:', res?.statusCode, '响应:', res?.data);\n                uni.showToast({ title: '删除失败', icon: 'none' });\n              }\n            } catch (error) {\n              console.error('删除地址失败:', error);\n              uni.showToast({ title: '删除失败', icon: 'none' });\n            }\n          }\n        }\n      });\n    },\n    \n    // 测试后端连接\n    async testBackendConnection() {\n      try {\n        console.log('测试后端连接...');\n        const res = await uni.request({\n          url: 'http://localhost:3000/api/address/user/1',\n          method: 'GET',\n          timeout: 5000\n        });\n        console.log('后端连接测试成功:', res.statusCode);\n      } catch (error) {\n        console.error('后端连接测试失败:', error);\n        uni.showModal({\n          title: '连接提示',\n          content: '无法连接到后端服务器，请确保服务器已启动',\n          showCancel: false,\n          confirmText: '我知道了'\n        });\n      }\n    },\n    \n    // 获取用户当前位置\n    getUserLocation() {\n      uni.getLocation({\n        type: 'gcj02',\n        success: (res) => {\n          this.userLat = res.latitude;\n          this.userLng = res.longitude;\n          this.updateAllMarkers();\n        },\n        fail: () => {\n          // 定位失败时默认北京\n          this.userLat = 39.908823;\n          this.userLng = 116.397470;\n          this.updateAllMarkers();\n        }\n      });\n    },\n    // 地图点击选点\n    onMapTap(e) {\n      const { latitude, longitude } = e.detail;\n      if (!latitude || !longitude) return;\n      this.form.lat = latitude;\n      this.form.lng = longitude;\n      this.reverseGeocode(latitude, longitude, true);\n      this.userLat = latitude;\n      this.userLng = longitude;\n      this.mapScale = 16;\n      this.highlightMarkerId = 'form';\n      this.updateAllMarkers();\n      uni.showToast({ title: '已选中地图位置', icon: 'success' });\n    },\n    // marker点击高亮\n    onMapMarkerTap(e) {\n      const markerId = e.detail.markerId;\n      this.highlightMarkerId = markerId;\n      if (markerId === -1) {\n        this.selectedAddress = {\n          name: '当前位置',\n          address: '',\n          lat: this.userLat,\n          lng: this.userLng\n        };\n      } else if (this.addressList && this.addressList[markerId]) {\n        this.selectedAddress = this.addressList[markerId];\n        // 地图中心跳转到该地址\n        if (this.selectedAddress.lat && this.selectedAddress.lng) {\n          this.userLat = Number(this.selectedAddress.lat);\n          this.userLng = Number(this.selectedAddress.lng);\n        }\n      } else if (markerId === 'form' && this.form.lat && this.form.lng) {\n        this.selectedAddress = {\n          name: '新选位置',\n          address: this.form.address,\n          lat: this.form.lat,\n          lng: this.form.lng\n        };\n        this.userLat = Number(this.form.lat);\n        this.userLng = Number(this.form.lng);\n      }\n      this.updateAllMarkers();\n    },\n    // 更新所有marker，支持高亮\n    updateAllMarkers() {\n      const markers = [];\n      // 用户当前位置marker\n      markers.push({\n        id: -1,\n        latitude: this.userLat,\n        longitude: this.userLng,\n        iconPath: this.highlightMarkerId === -1 ? '/static/images/map-marker.png' : '/static/images/map-marker.png',\n        width: 44,\n        height: 44,\n        callout: {\n          content: '当前位置',\n          color: this.highlightMarkerId === -1 ? '#1890ff' : '#333',\n          fontSize: 14,\n          borderRadius: 8,\n          bgColor: '#fff',\n          padding: 8,\n          display: 'ALWAYS'\n        }\n      });\n      // 地址列表marker\n      if (Array.isArray(this.addressList)) {\n        this.addressList.forEach((addr, idx) => {\n          if (addr.lat && addr.lng) {\n            markers.push({\n              id: idx,\n              latitude: Number(addr.lat),\n              longitude: Number(addr.lng),\n              iconPath: this.highlightMarkerId === idx ? '/static/images/map-marker.png' : '/static/images/map-marker.png',\n              width: this.highlightMarkerId === idx ? 48 : 40,\n              height: this.highlightMarkerId === idx ? 48 : 40,\n              callout: {\n                content: addr.name + '\\n' + addr.address,\n                color: this.highlightMarkerId === idx ? '#1890ff' : '#333',\n                fontSize: 14,\n                borderRadius: 8,\n                bgColor: '#fff',\n                padding: 8,\n                display: 'ALWAYS'\n              }\n            });\n          }\n        });\n      }\n      // 新选点marker（表单）\n      if (this.form.lat && this.form.lng) {\n        markers.push({\n          id: 'form',\n          latitude: Number(this.form.lat),\n          longitude: Number(this.form.lng),\n          iconPath: this.highlightMarkerId === 'form' ? '/static/images/map-marker.png' : '/static/images/map-marker.png',\n          width: this.highlightMarkerId === 'form' ? 48 : 40,\n          height: this.highlightMarkerId === 'form' ? 48 : 40,\n          callout: {\n            content: '新选位置',\n            color: this.highlightMarkerId === 'form' ? '#1890ff' : '#333',\n            fontSize: 14,\n            borderRadius: 8,\n            bgColor: '#fff',\n            padding: 8,\n            display: 'ALWAYS'\n          }\n        });\n      }\n      this.allMarkers = markers;\n    },\n    // 逆地理编码API封装\n    async reverseGeocode(latitude, longitude, updateForm = false) {\n      try {\n        const url = `${baiduMapConfig.baseUrl}/reverse_geocoding/v3`;\n        const params = {\n          location: `${latitude},${longitude}`,\n          output: 'json',\n          ak: baiduMapConfig.ak,\n          coordtype: 'gcj02ll'\n        };\n        const queryString = Object.keys(params)\n          .map(key => `${key}=${encodeURIComponent(params[key])}`)\n          .join('&');\n        const [error, res] = await uni.request({\n          url: `${url}?${queryString}`,\n          method: 'GET',\n          timeout: 10000\n        });\n        if (!error && res.data && res.data.result) {\n          const result = res.data.result;\n          if (updateForm) {\n            this.form.address = result.formatted_address || '未知地址';\n            if (!this.form.detail) {\n              this.form.detail = result.formatted_address || '未知地址';\n            }\n          }\n          this.selectedAddress = {\n            name: '新选位置',\n            address: result.formatted_address,\n            lat: latitude,\n            lng: longitude\n          };\n        } else {\n          if (updateForm) this.form.address = '未知地址';\n        }\n      } catch (error) {\n        if (updateForm) this.form.address = '未知地址';\n      }\n    },\n    // 详细地址输入实时定位，蓝点marker实时跳转\n    async onDetailInput(e) {\n      this.form.detail = e.detail.value;\n      if (!this.form.detail) return;\n      // 调用百度地理编码API\n      const url = `${baiduMapConfig.baseUrl}/geocoding/v3`;\n      const params = {\n        address: this.form.detail,\n        output: 'json',\n        ak: baiduMapConfig.ak,\n        ret_coordtype: 'gcj02ll'\n      };\n      const queryString = Object.keys(params)\n        .map(key => `${key}=${encodeURIComponent(params[key])}`)\n        .join('&');\n      const [error, res] = await uni.request({\n        url: `${url}?${queryString}`,\n        method: 'GET',\n        timeout: 10000\n      });\n      if (!error && res.data && res.data.result && res.data.result.location) {\n        const { lat, lng } = res.data.result.location;\n        // 实时更新地图中心点和表单经纬度，蓝点marker自动跳转\n        this.modalMapLat = lat;\n        this.modalMapLng = lng;\n        this.form.lat = lat;\n        this.form.lng = lng;\n        this.addressMarker = [{\n          id: 1,\n          latitude: lat,\n          longitude: lng,\n          iconPath: 'circle',\n          width: 32,\n          height: 32,\n          color: '#1890ff',\n          borderWidth: 2,\n          borderColor: '#fff',\n          alpha: 1\n        }];\n      }\n    },\n    // 新增/编辑弹窗打开时地图跳转并精准定位\n    showAddModal(isEdit = false, idx = -1) {\n      if (isEdit && idx >= 0) {\n        this.editAddress(idx);\n        if (this.form.lat && this.form.lng) {\n          this.modalMapLat = Number(this.form.lat);\n          this.modalMapLng = Number(this.form.lng);\n          this.addressMarker = [{\n            id: 1,\n            latitude: Number(this.form.lat),\n            longitude: Number(this.form.lng),\n            iconPath: 'circle',\n            width: 32,\n            height: 32,\n            color: '#1890ff',\n            borderWidth: 2,\n            borderColor: '#fff',\n            alpha: 1\n          }];\n        } else {\n          this.getModalUserLocation();\n        }\n      } else {\n        this.form = { name: '', phone: '', detail: '', tag: '家', isDefault: false, lat: '', lng: '', address: '' };\n        this.editIdx = -1;\n        this.getModalUserLocation();\n      }\n      this.modalMapScale = 16;\n      this.modalHighlightMarkerId = 'form';\n      this.updateModalMapMarkers();\n      this.showAdd = true;\n    },\n    // 新增按钮事件\n    onAddBtnClick() {\n      this.showAddModal(false);\n    },\n    // 编辑按钮事件\n    onEditBtnClick(idx) {\n      this.showAddModal(true, idx);\n    },\n    // 弹窗地图精准定位\n    getModalUserLocation() {\n      uni.getLocation({\n        type: 'gcj02',\n        success: (res) => {\n          this.modalMapLat = res.latitude;\n          this.modalMapLng = res.longitude;\n          this.form.lat = res.latitude;\n          this.form.lng = res.longitude;\n          this.reverseGeocode(res.latitude, res.longitude, true);\n          this.addressMarker = [{\n            id: 1,\n            latitude: res.latitude,\n            longitude: res.longitude,\n            iconPath: 'circle',\n            width: 32,\n            height: 32,\n            color: '#1890ff',\n            borderWidth: 2,\n            borderColor: '#fff',\n            alpha: 1\n          }];\n        },\n        fail: () => {\n          this.modalMapLat = 39.908823;\n          this.modalMapLng = 116.397470;\n          this.addressMarker = [{\n            id: 1,\n            latitude: 39.908823,\n            longitude: 116.397470,\n            iconPath: 'circle',\n            width: 32,\n            height: 32,\n            color: '#1890ff',\n            borderWidth: 2,\n            borderColor: '#fff',\n            alpha: 1\n          }];\n        }\n      });\n    },\n    // 弹窗地图点击选点\n    onModalMapTap(e) {\n      const { latitude, longitude } = e.detail;\n      if (!latitude || !longitude) return;\n      this.form.lat = latitude;\n      this.form.lng = longitude;\n      this.modalMapLat = latitude;\n      this.modalMapLng = longitude;\n      this.reverseGeocode(latitude, longitude, true);\n      this.addressMarker = [{\n        id: 1,\n        latitude: latitude,\n        longitude: longitude,\n        iconPath: 'circle',\n        width: 32,\n        height: 32,\n        color: '#1890ff',\n        borderWidth: 2,\n        borderColor: '#fff',\n        alpha: 1\n      }];\n      uni.showToast({ title: '已选中地图位置', icon: 'success' });\n    },\n    // 弹窗marker点击高亮\n    onModalMapMarkerTap(e) {\n      const markerId = e.detail.markerId;\n      this.modalHighlightMarkerId = markerId;\n      this.updateModalMapMarkers();\n    },\n    // 弹窗地图marker渲染\n    updateModalMapMarkers() {\n      const markers = [];\n      if (this.form.lat && this.form.lng) {\n        markers.push({\n          id: 'form',\n          latitude: Number(this.form.lat),\n          longitude: Number(this.form.lng),\n          iconPath: this.modalHighlightMarkerId === 'form' ? '/static/images/map-marker.png' : '/static/images/map-marker.png',\n          width: this.modalHighlightMarkerId === 'form' ? 56 : 44,\n          height: this.modalHighlightMarkerId === 'form' ? 56 : 44,\n          callout: {\n            content: '选中位置',\n            color: this.modalHighlightMarkerId === 'form' ? '#1890ff' : '#333',\n            fontSize: 16,\n            borderRadius: 8,\n            bgColor: '#fff',\n            padding: 8,\n            display: 'ALWAYS'\n          }\n        });\n      }\n      this.modalMapMarkers = markers;\n    },\n  }\n};\n</script>\n\n<style scoped>\n.address-page { \n  min-height: 100vh; \n  background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);\n  padding: 0 24rpx 40rpx 24rpx; \n}\n\n.address-header {\n  padding: 40rpx 0 32rpx 0;\n  text-align: center;\n}\n\n.header-title {\n  font-size: 42rpx;\n  font-weight: bold;\n  color: #2c3e50;\n  display: block;\n  margin-bottom: 8rpx;\n}\n\n.header-subtitle {\n  font-size: 26rpx;\n  color: #7f8c8d;\n  display: block;\n}\n\n.address-empty {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 120rpx 0;\n}\n\n.empty-icon {\n  width: 120rpx;\n  height: 120rpx;\n  opacity: 0.3;\n  margin-bottom: 24rpx;\n}\n\n.empty-text {\n  font-size: 32rpx;\n  color: #95a5a6;\n  margin-bottom: 12rpx;\n}\n\n.empty-desc {\n  font-size: 26rpx;\n  color: #bdc3c7;\n}\n\n.address-list {\n  margin-bottom: 32rpx;\n}\n\n.address-item { \n  background: #fff; \n  border-radius: 20rpx; \n  margin-bottom: 24rpx; \n  padding: 32rpx 24rpx; \n  display: flex; \n  justify-content: space-between; \n  align-items: center; \n  box-shadow: 0 8rpx 32rpx rgba(24, 144, 255, 0.1);\n  border: 2rpx solid transparent;\n  transition: all 0.3s ease;\n}\n\n.address-item:active {\n  transform: scale(0.98);\n  border-color: #1890ff;\n}\n\n.address-info { \n  flex: 1; \n  margin-right: 24rpx;\n}\n\n.address-header-row { \n  display: flex; \n  justify-content: space-between; \n  align-items: flex-start; \n  margin-bottom: 16rpx; \n}\n\n.contact-info {\n  display: flex;\n  flex-direction: column;\n}\n\n.address-name { \n  font-size: 32rpx; \n  font-weight: bold; \n  color: #2c3e50; \n  margin-bottom: 4rpx;\n}\n\n.address-phone {\n  font-size: 26rpx;\n  color: #7f8c8d;\n}\n\n.address-tags { \n  display: flex; \n  gap: 8rpx; \n  flex-shrink: 0;\n}\n\n.default-tag { \n  background: linear-gradient(135deg, #1890ff, #40a9ff); \n  color: #fff; \n  font-size: 20rpx; \n  padding: 6rpx 12rpx; \n  border-radius: 12rpx; \n  font-weight: bold;\n}\n\n.tag-tag { \n  background: #f0f8ff; \n  color: #1890ff; \n  font-size: 20rpx; \n  padding: 6rpx 12rpx; \n  border-radius: 12rpx; \n  border: 1rpx solid #d6e4ff;\n}\n\n.address-detail { \n  font-size: 28rpx; \n  color: #34495e; \n  line-height: 1.5;\n}\n\n.address-actions { \n  display: flex; \n  flex-direction: column; \n  align-items: center;\n  gap: 16rpx;\n}\n\n.action-btn {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 12rpx 16rpx;\n  border-radius: 12rpx;\n  transition: all 0.3s ease;\n}\n\n.action-btn:active {\n  transform: scale(0.9);\n}\n\n.edit-btn {\n  background: #e6f7ff;\n  color: #1890ff;\n}\n\n.del-btn {\n  background: #fff2f0;\n  color: #ff4d4f;\n}\n\n.action-icon {\n  font-size: 24rpx;\n  margin-bottom: 4rpx;\n}\n\n.action-text {\n  font-size: 22rpx;\n  font-weight: bold;\n}\n\n.add-btn { \n  width: 100%; \n  background: linear-gradient(135deg, #1890ff, #40a9ff); \n  color: #fff; \n  border-radius: 20rpx; \n  text-align: center; \n  padding: 32rpx 0; \n  font-size: 32rpx; \n  font-weight: bold; \n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  box-shadow: 0 8rpx 24rpx rgba(24, 144, 255, 0.3);\n  transition: all 0.3s ease;\n}\n\n.add-btn:active {\n  transform: translateY(2rpx);\n  box-shadow: 0 4rpx 12rpx rgba(24, 144, 255, 0.3);\n}\n\n.add-icon {\n  font-size: 36rpx;\n  margin-right: 12rpx;\n  font-weight: bold;\n}\n\n.add-text {\n  font-weight: bold;\n}\n\n.address-modal-mask { \n  position: fixed; \n  left: 0; \n  right: 0; \n  top: 0; \n  bottom: 0; \n  background: rgba(0,0,0,0.4); \n  z-index: 1000; \n  display: flex; \n  align-items: center; \n  justify-content: center; \n  backdrop-filter: blur(4rpx);\n}\n\n.address-modal { \n  background: #fff; \n  border-radius: 24rpx; \n  padding: 0; \n  width: 85vw; \n  max-width: 650rpx; \n  max-height: 85vh; \n  overflow-y: auto;\n  box-shadow: 0 20rpx 60rpx rgba(0,0,0,0.2);\n}\n\n.modal-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 32rpx 32rpx 24rpx 32rpx;\n  border-bottom: 1rpx solid #f0f0f0;\n}\n\n.modal-title { \n  font-size: 36rpx; \n  font-weight: bold; \n  color: #2c3e50;\n}\n\n.modal-close {\n  font-size: 48rpx;\n  color: #95a5a6;\n  cursor: pointer;\n  padding: 8rpx;\n}\n\n.form-section {\n  padding: 32rpx;\n}\n\n.input-group {\n  margin-bottom: 32rpx;\n}\n\n.input-label {\n  font-size: 28rpx;\n  color: #2c3e50;\n  font-weight: bold;\n  margin-bottom: 12rpx;\n  display: block;\n}\n\n.modal-input { \n  width: 100%; \n  border: 2rpx solid #e8e8e8; \n  border-radius: 12rpx; \n  padding: 20rpx 16rpx; \n  font-size: 28rpx; \n  background: #fafafa;\n  transition: all 0.3s ease;\n}\n\n.modal-input:focus {\n  border-color: #1890ff;\n  background: #fff;\n}\n\n.modal-textarea {\n  width: 100%;\n  border: 2rpx solid #e8e8e8;\n  border-radius: 12rpx;\n  padding: 20rpx 16rpx;\n  font-size: 28rpx;\n  background: #fafafa;\n  min-height: 120rpx;\n  transition: all 0.3s ease;\n}\n\n.modal-textarea:focus {\n  border-color: #1890ff;\n  background: #fff;\n}\n\n.tag-section { \n  padding: 0 32rpx 32rpx 32rpx;\n}\n\n.section-title { \n  font-size: 28rpx; \n  color: #2c3e50; \n  font-weight: bold;\n  margin-bottom: 20rpx; \n  display: block; \n}\n\n.tag-options { \n  display: flex; \n  gap: 16rpx; \n}\n\n.tag-option { \n  padding: 16rpx 24rpx; \n  border: 2rpx solid #e8e8e8; \n  border-radius: 12rpx; \n  font-size: 26rpx; \n  color: #7f8c8d; \n  cursor: pointer;\n  transition: all 0.3s ease;\n  background: #fafafa;\n}\n\n.tag-option.selected { \n  background: linear-gradient(135deg, #1890ff, #40a9ff); \n  color: #fff; \n  border-color: #1890ff;\n  box-shadow: 0 4rpx 12rpx rgba(24, 144, 255, 0.3);\n}\n\n.default-section { \n  display: flex; \n  justify-content: space-between; \n  align-items: center; \n  padding: 0 32rpx 32rpx 32rpx;\n  border-bottom: 1rpx solid #f0f0f0;\n}\n\n.default-title { \n  font-size: 28rpx; \n  color: #2c3e50;\n  font-weight: bold;\n}\n\n.modal-actions { \n  display: flex; \n  justify-content: space-between;\n  padding: 32rpx;\n  gap: 24rpx;\n}\n\n.modal-btn { \n  flex: 1;\n  padding: 24rpx 0; \n  border-radius: 12rpx; \n  font-size: 30rpx;\n  font-weight: bold;\n  border: none;\n  transition: all 0.3s ease;\n}\n\n.cancel { \n  background: #f5f5f5; \n  color: #7f8c8d;\n}\n\n.cancel:active {\n  background: #e8e8e8;\n}\n\n.confirm { \n  background: linear-gradient(135deg, #1890ff, #40a9ff); \n  color: #fff;\n  box-shadow: 0 4rpx 12rpx rgba(24, 144, 255, 0.3);\n}\n\n.confirm:active {\n  transform: translateY(2rpx);\n  box-shadow: 0 2rpx 8rpx rgba(24, 144, 255, 0.3);\n}\n\n.location-section {\n  display: flex;\n  gap: 16rpx;\n  margin-top: 16rpx;\n}\n\n.location-btn {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 12rpx 16rpx;\n  border-radius: 12rpx;\n  border: 1rpx solid #e8e8e8;\n  background: #fafafa;\n  transition: all 0.3s ease;\n}\n\n.location-btn:active {\n  transform: scale(0.98);\n  border-color: #1890ff;\n}\n\n.location-icon {\n  font-size: 28rpx;\n  margin-bottom: 4rpx;\n}\n\n.location-text {\n  font-size: 24rpx;\n  color: #7f8c8d;\n}\n\n.location-info {\n  margin-top: 16rpx;\n  padding: 16rpx 24rpx;\n  background: #f0f8ff;\n  border-radius: 12rpx;\n  border: 1rpx solid #d6e4ff;\n}\n\n.location-coords {\n  font-size: 24rpx;\n  color: #1890ff;\n  margin-bottom: 8rpx;\n}\n\n.location-address {\n  font-size: 26rpx;\n  color: #34495e;\n  line-height: 1.5;\n}\n\n.address-map-wrapper {\n  width: 100vw;\n  height: 400rpx;\n  position: relative;\n}\n.address-map {\n  width: 100vw;\n  height: 400rpx;\n}\n.map-address-info {\n  position: absolute;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(255,255,255,0.95);\n  padding: 24rpx 20rpx;\n  border-radius: 24rpx 24rpx 0 0;\n  box-shadow: 0 -4rpx 20rpx rgba(0,0,0,0.1);\n  z-index: 10;\n  text-align: left;\n}\n.map-address-title {\n  font-size: 28rpx;\n  font-weight: bold;\n  color: #333;\n  display: block;\n  margin-bottom: 8rpx;\n}\n.map-address-detail {\n  font-size: 24rpx;\n  color: #666;\n  display: block;\n  margin-bottom: 8rpx;\n}\n.map-address-coord {\n  font-size: 22rpx;\n  color: #999;\n}\n.address-modal-flex {\n  display: flex;\n  flex-direction: column;\n  width: 100vw;\n  max-width: 100vw;\n  height: 90vh;\n  max-height: 90vh;\n  padding: 0;\n}\n.modal-map-wrapper {\n  width: 100vw;\n  height: 50vh;\n  min-height: 300px;\n  max-height: 60vh;\n  background: #f0f8ff;\n  border-radius: 24rpx 24rpx 0 0;\n  overflow: hidden;\n}\n.modal-map {\n  width: 100vw;\n  height: 100%;\n}\n.modal-form-section {\n  flex: 1;\n  overflow-y: auto;\n  background: #fff;\n  border-radius: 0 0 24rpx 24rpx;\n  padding-bottom: 24rpx;\n}\n</style> ","import mod from \"-!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./address.vue?vue&type=style&index=0&id=202230b6&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./address.vue?vue&type=style&index=0&id=202230b6&scoped=true&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1753819413572\n      var cssReload = require(\"D:/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}